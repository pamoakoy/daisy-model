TODO --- things that needs done with Daisy -*- outline -*-

* DOM

** Testkørsel

Homogen jord, konstant klima.

Log samlet C, N og C/N for hvert lag, og for hvert tidsskridt.

*** Forsøg et.

**** Dag 1: Tilsæt C/N: 200/21

**** Dag 2: Tilsæt C/N: 200/21

*** Forsøg to.

**** Dag 1: Tilsæt C/N: 200/21

**** Dag 2: Tilsæt C/N: 100/1 + 100/20

** Snak P med Birgitte

** Fosfat PO4---

* Check af PLF'er.

** LeafAIMod skal altid være > 0.0

* Biomod

** Fordel C/N mellem AOM1 og AOM2 som func. af N/C forhold.

C/N skal være ens i begge puljer.

** Lav AM om til et rigtigt komponent?  Planterest model?

** To stk lerfunktioner.

Den "normale" lerfunktion skal påvirke begge smb puljer.

Den anden ser sådan her ud:

  f1 * r_s = r

  m + d = c
  d / (m + d) = r

f1 er lerfunktionen.
r_s er en konstant
c er en konstant.
m er maintenance
d er death rate (== turnover rate)

* User Manual

** Tillage

*** Soil Compaction

** Pesticides

*** To partielle parameteriseringer, "canopy" og "soil"?

SH: Streiby.

*** New pesticides.

*** SH: file name change?

*** Transform

** Log parameterizations.

Udbyg.

*** Transform

** Appendix listing features not mentioned otherwise.

*** Gennemgå referencemanualen og kig efter ting der bør listes.

** Permanent vegetation

** Simple Crop Types

* Irrigation

** Deficit

Start ved specifik dato.

* Make it possible to specify texture using differnet systems

Different sizes for sand, silt, and clay, plus allow other types.

* Parser & Printer.

** Don't order attributes when defining paramterizations.

* Log table

** Make it possible to create a small balance or summary

(output ("N_balance"
         (when daily)
         (to -1 [m])
         (balance (Ammonium (begin 1965 07 20) (end 2002 03 07))
                  (Nitrogen (begin 1965 07 20) (end 2002 03 07))))

# Ammonium balance for period 20-07-1965 to 07-03-2002
#
#            Mineralization:   200 kg N/ha
#             Nitrification:  -120 kg N/ha
#         Change in content:   -20 kg N/ha
#              Plant uptake: -1000 kg N/ha
#                     Input:  1400 kg N/ha
#                   Leching:  -200 kg N/ha
#                            -----
#                   Balance:    60 kg N/ha

Should they be part of log table?  Should they go to the end of the
log files?  Should they all be written to a single file?  Or to
standard output?

** Add long description for each column in a table log file.

I.e. a new select parameter named "description", plus a table option
of whether to add it to preamble of the dlf file.

** Use new log table spec parameter

*** Default descriptions in ref-doc.

* New 'spec' log model.

Select attribute with

    library type submodel* attribute

Use filters like

    library type

cutting of branch if it encounter an object from library not derived
from type.

* Paramerization library documentation

** syntax.add_printer ("LaTeX", log_table_pp_LaTeX)

** Differences from superclass.

* N respiration

En standard parameterisering på

    N_fixate_respiration    6.5 [g CH2O-C/g N]
    NO3_uptake_respiration  3.0 [g CH2O-C/g NO3-N]

ville være biologisk korrekt.

Henning Hoeg.

Bloker for begge når der ikke er assimilat nok.

    NO3_uptake_respiration  0.0 [g CH2O-C/g NO3-N]

for nogen planter, i følge Søren.

** Add DOM pool

Dissolved Organic Matter, feed by all the OM pool transformations.

** Phosphor

** Pesticides

* Add user defineable convertions.

* QDaisy.

** Copy/Inherit: Rebuild model.

** Menu -> Edit -> Inputs

Tilføj inputs til træ?

** Insert child, insert after.

** Menu -> File -> Run

Maybe show events in tree, like BCC?

** Filter setup

Only show a few buildin libraries and models.

** Treelog_Qt

** EditPLFs

** Specialiced model view.

** View model as text.

** Interest groups

libraries, models, parameterizations and parameters should belong to a
number of "interest groups", which can be use by QDaisy for filtering.

** Make drag and drop of "file.dai" work.

** Use radio buttons for filters in menu.

** Move Filters from QDaisy to Daisy.

** Redirect error messages

for weather std, file, hourly, and for hydraulic old, old2

** Beskriv fordele ved min GUI implementation.

- Virker med næsten alle `.dai' filer.

- Automatisk up-to-date med seneste daisy version.

* Daisy new user guide.

* CVS

** Nyt `misc' katalog med de to dhi scripts.

* Cloning.

** Check af clone af vegetation virker.

** Sørg for at cdaisy bruger de nye funktion til clone og merge.

** Implementer merge.

* GodeGuard errors

* Døde blade skal tælle med i lysfordelingen.

* Daisy som subsystem

** System til rename af duplicate object ved parsing.

** daisy_alist_check skal ikke altid skrive fejl ud på cout.

* Native GUI 

** Try out "SWIFT"

** Plot retentionskurve fra gdaisy.

** tkdaisy:

  Create pseudo TkDaisyEntry top level as an syntax+alist containing a
  single "daisy" element.  Use this make the step function always
  contain the syntax/alist whe name belongs to.

  Lav function til at browse en syntax, alist par.

  Lav function til at loade en dai fil

  Lav function(er) til at instantiere, test, og køre daisy object.

  Lav filter/log som sender data tilbage til tcl.

  Lav functioner der viser data statisk og dynamisk.

* Make it possible to specify Soil geometry with dz.

* Output syntax.

Having multiple output statements that all added to a single list
might be nice.  Create a Syntax::size `Multiple' for this.  Use it on
Input as well to be consistent.  

Consider how this fits into the desired ability to add rules to a
Manager. 

* Make PLF::find use binary search.

* Rename Daisy to Simulation.

This will allow us to ship Condition and Action as part of the Daisy
independent library.

